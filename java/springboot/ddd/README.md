## DDD Start

#### Requirements

```
- 최소 한 종류 이상의 상품을 주문해야 한다.
- 한 상품을 한 개 이상 주문할 수 있다.
- 총 주문 금액은 각 상품의 구매 가격 합을 모두 더한 금액이다.
- 각 상품의 구매 가격 합은 상품 가격에 구매 개수를 곱한 값이다.
- 주문할 때 배송지 정보를 반드시 지정해야 한다.
- 배송지 정보는 받는 사람 이름, 전화번호, 주소로 구성된다.
- 출고를 하면 배송지 정보를 변경할 수 없다.
- 출고 전에 주문을 취소할 수 있다.
- 고객이 결제를 완료하기 전에는 상품을 준비하지 않는다.
```

#### Chapter 1

```
- 단순히 코드를 보기 좋게 작성하는 것 뿐만 아니라 도메인 관점에서 코드가 도메인을 잘 표현해야 
  비로소 코드의 가독성이 높아지며 문서로서 코드가 의미를 갖는다.
```

##### Entity vs Value

```
- Entity는 식별자를 갖는다.
- Value를 Immutable로 생성해야 하는 이유: 1) 참조투명성, 2) Thread-safe 
```

##### set method를 쓰지 말아야 할 이유

```
- 도메인의 핵심 개념이나 의도를 코드에서 사라지게 한다.
- 도메인 객체가 불완전한 상태로 생성되어 사용되는 것을 방지하려면 생성자를 통해 필요한 데이터를 모두 받아야 한다.
```

#### Chapter 2

```
- 표현영역은 웹 브라우저가 HTTP 요청 파라미터로 전송한 데이터를 응용서비스가 요구하는 형식의 객체 타입으로 변환해서 전달하고,
  응용서비스가 리턴한 결과를 JSON 형식으로 변환해서 HTTP 응답으로 웹 브라우저에게 전송한다.
  
- 응용서비스는 로직을 직접 수행하기보다는 도메인 모델에 로직 수행을 위임한다.

- 인프라스트럭처 영역은 구현 기술에 대한 것을 다룬다. 
  이 영역은 RDBMS 연동을 처리하고, 메시징 큐에 메시지를 전송하거나 수신하는 기능을 구현하고,
  몽고DB나 HBase를 사용해서 데이터베이스 연동을 처리한다. 
  이 영역은 SMTP를 이용한 메일 발송 기능을 구현하거나 HTTP 클라이언트를 이용해서 REST API를 호출하는 것도 처리한다.
```

```
- 인프라스트럭처에 의존하면 '테스트 어려움'과 '기능 확장의 어려움'이 발생한다.
  이에 DIP가 필요하다. 고수준 모듈에서는 인터페이스를 사용할 뿐이고, 저수준 모듈에서 인터페이스를 구현한다.
  고수준 모듈이 저수준 모듈에 의존하지 않기 때문에 테스트 대용객체(Mock)을 이용해서 테스트가 가능하다.
  주의할 점은, DIP를 적용할 때 하위 기능을 추상화한 인터페이스는 고수준 모듈 관점에서 도출해야 한다는 것이다.
```