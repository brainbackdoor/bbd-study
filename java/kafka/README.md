```
카프카는 메시지큐, 메시지 버스, 데이터 저장 시스템으로 활용
```

#### 카프카 프로듀서의 내부 구조

```
- 카프카 브로커 URL 부트스트랩하기 : 프로듀서는 클러스터의 메타데이터를 가져오기 위한 하나의 연결이 생성될 때까지 카프카 브로커 주소 목록에서 하나씩 연결을 시도한다.
- 데이터 직렬화 : 카프카에 데이터를 기록할 때, 프로듀서는 미리 정의된 카프카 브로커 네트워크 포트에 데이터를 정렬된 바이트 시퀀스 형태로 전송한다. 이에 프로듀서는 브로커에 레코드를 보내기 전에 모든 메시지 데이터 객체를 바이트 배열로 Serialization한다. 
- 토픽 파티션의 결정 : 어떤 파티션으로 데이터가 전송돼야 하는지 결정하는 일은 카프카 프로듀서의 책임이다. 일반적으로 메시지 데이터 객체의 Key를 사용하게 된다.
- 처리 실패/재시도 기능 : 처리 실패 응답이나 재시도 횟수는 프로듀서 애플리케이션에 의해 제어되어야 한다. 
- 배치 처리 : 효율적인 메시지 전송을 위해 배치는 매우 유용한 방식이다. 프로듀서 API 설정을 통해 프로듀서가 비동기 모드 사용여부를 제어할 수 있으며, 배치처리는 입출력 횟수를 줄이고 프로듀서 메모리를 최적화한다. 전반적인 처리속도는 배치에서의 메시지 수에 비례해 증가한다.
```